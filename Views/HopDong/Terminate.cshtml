@* 
    Terminate.cshtml — View dự phòng.
    Trong thực tế, HopDongController.Terminate() redirect thẳng sang Liquidations/Create.
    View này chỉ được dùng nếu cần hiển thị trung gian.
*@
@{
    ViewData["Title"] = "Chuyển hướng thanh lý";
    int contractId = ViewContext.RouteData.Values["id"] != null
        ? int.Parse(ViewContext.RouteData.Values["id"]!.ToString()!)
        : 0;
}

<div class="d-flex align-items-center justify-content-center" style="min-height:60vh;">
    <div class="text-center p-5">
        <div class="mb-4">
            <i class="fas fa-spinner fa-spin fa-3x text-muted"></i>
        </div>
        <h4 class="fw-bold mb-2">Đang chuyển sang quy trình thanh lý...</h4>
        <p class="text-muted mb-4">Hệ thống đang tải dữ liệu quyết toán cho hợp đồng này.</p>
        <a asp-controller="Liquidations" asp-action="Create" asp-route-contractId="@contractId"
           class="btn btn-danger px-4 fw-bold">
            <i class="fas fa-gavel me-2"></i>Đến trang thanh lý ngay
        </a>
        <a asp-controller="HopDong" asp-action="Details" asp-route-id="@contractId"
           class="btn btn-light border ms-2 px-4">
            Quay lại chi tiết
        </a>
    </div>
</div>

@section Scripts {
<script>
    // Auto-redirect nếu action không tự redirect
    @if (contractId > 0)
    {
        <text>
        setTimeout(function () {
            window.location.href = '@Url.Action("Create", "Liquidations", new { contractId })';
        }, 1500);
        </text>
    }
</script>
}