@model do_an_tot_nghiep.ViewModels.KhachThueFormViewModel

@{
    ViewData["Title"] = "Hồ Sơ Cư Dân";
    string badgeColor = Model.Status == "Active" ? "bg-success text-success" :
                        Model.Status == "Temporary_Absent" ? "bg-warning text-warning" : "bg-danger text-danger";
    string statusText = Model.Status == "Active" ? "Đang thuê" :
                        Model.Status == "Temporary_Absent" ? "Tạm vắng" : "Ngừng thuê";
}

<div class="container-fluid px-0 py-2">
    @* Page Header *@
    <div class="d-flex flex-wrap justify-content-between align-items-end mb-4 gap-3">
        <div>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-2">
                    <li class="breadcrumb-item"><a asp-controller="Dashboard" asp-action="Index" class="text-muted text-decoration-none"><i class="fas fa-home me-1"></i>Trang chủ</a></li>
                    <li class="breadcrumb-item"><a asp-action="Index" class="text-muted text-decoration-none">Cư dân</a></li>
                    <li class="breadcrumb-item active fw-medium">Hồ sơ chi tiết</li>
                </ol>
            </nav>
            <h1 class="fw-bold mb-1" style="font-size:1.75rem; letter-spacing: -0.5px;">Hồ sơ cư dân</h1>
            <p class="text-secondary mb-0">Chi tiết thông tin khách thuê <span class="badge bg-light text-dark border">#@Model.Id</span></p>
        </div>
        <div class="d-flex gap-2">
            <a asp-action="Index" class="btn btn-light border shadow-sm rounded-pill px-4">
                <i class="fas fa-arrow-left me-2"></i> Trở về
            </a>
        </div>
    </div>

    <div class="row g-4 mb-4">
        @* Left Column - Profile Summary *@
        <div class="col-xl-4 col-lg-5">
            <div class="card border-0 shadow-sm rounded-4 animate-fade-up overflow-hidden">
                @* Gradient Background for Avatar *@
                <div style="height: 120px; background: linear-gradient(135deg, var(--bs-primary) 0%, #4facfe 100%);"></div>

                <div class="card-body px-4 pb-4 pt-0 text-center">
                    @* Avatar *@
                    <div class="position-relative d-inline-block" style="margin-top: -60px; margin-bottom: 1.5rem;">
                        <img src="~/img/undraw_profile.svg" alt="Avatar" class="img-fluid rounded-circle border border-4 border-white shadow-sm bg-white" style="width: 120px; height: 120px; object-fit: cover;" />
                        <span class="position-absolute bottom-0 end-0 p-2 border border-2 border-white rounded-circle bg-white" style="margin-bottom: 5px; margin-right: 5px;" title="Trạng thái">
                            <span class="d-block rounded-circle @(Model.Status == "Active" ? "bg-success" : "bg-danger")" style="width: 12px; height: 12px;"></span>
                        </span>
                    </div>

                    <h4 class="fw-bold text-dark mb-1">@Model.HoTen</h4>
                    <p class="text-muted small mb-3"><i class="fas fa-id-card me-1 opacity-75"></i> CCCD: <strong class="text-dark">@Model.SoCCCD</strong></p>

                    <span class="badge @badgeColor bg-opacity-10 border border-opacity-25 rounded-pill px-3 py-2 mb-4 d-inline-block">
                        <i class="fas fa-circle me-1" style="font-size: 8px; vertical-align: middle;"></i> @statusText
                    </span>

                    <hr class="text-muted opacity-25 my-0">

                    <ul class="list-group list-group-flush text-start small mt-2">
                        <li class="list-group-item d-flex justify-content-between align-items-center px-0 py-3 border-bottom-dashed">
                            <span class="text-secondary"><i class="fas fa-venus-mars me-2 opacity-50 text-primary"></i>Giới tính</span>
                            <span class="fw-medium text-dark">@(Model.Gender ?? "Chưa cập nhật")</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center px-0 py-3 border-bottom-dashed">
                            <span class="text-secondary"><i class="fas fa-birthday-cake me-2 opacity-50 text-warning"></i>Ngày sinh</span>
                            <span class="fw-medium text-dark">@Model.NgaySinh.ToString("dd/MM/yyyy")</span>
                        </li>
                    </ul>

                    <div class="mt-4 pt-2">
                        <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary w-100 shadow-sm rounded-pill py-2 fw-medium">
                            <i class="fas fa-user-edit me-2"></i> Cập nhật hồ sơ
                        </a>
                    </div>
                </div>
            </div>
        </div>

        @* Right Column - Detailed Info *@
        <div class="col-xl-8 col-lg-7">
            <div class="card border-0 shadow-sm rounded-4 animate-fade-up" style="animation-delay:.1s;">
                <div class="card-header bg-white border-bottom p-4">
                    <div class="d-flex align-items-center gap-3">
                        <div class="bg-primary bg-opacity-10 p-2 rounded-3 d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                            <i class="fas fa-address-book text-primary fs-5"></i>
                        </div>
                        <h6 class="fw-bold mb-0 text-dark">Chi tiết liên hệ & Thường trú</h6>
                    </div>
                </div>

                <div class="card-body p-4 p-md-5">

                    @* Contact Section *@
                    <h6 class="fw-bold text-dark mb-4 text-uppercase small" style="letter-spacing: 0.5px;">Thông tin liên lạc</h6>
                    <div class="row g-4 mb-5">
                        <div class="col-md-6">
                            <div class="d-flex align-items-start gap-3">
                                <div class="bg-light rounded-circle d-flex align-items-center justify-content-center flex-shrink-0" style="width: 44px; height: 44px;">
                                    <i class="fas fa-phone-alt text-success"></i>
                                </div>
                                <div>
                                    <small class="text-secondary d-block mb-1">SĐT liên hệ chính</small>
                                    <span class="fw-bold text-dark fs-6">@Model.SoDienThoai1</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="d-flex align-items-start gap-3">
                                <div class="bg-light rounded-circle d-flex align-items-center justify-content-center flex-shrink-0" style="width: 44px; height: 44px;">
                                    <i class="fab fa-viber text-primary"></i>
                                </div>
                                <div>
                                    <small class="text-secondary d-block mb-1">SĐT phụ / Zalo</small>
                                    @if (!string.IsNullOrEmpty(Model.SoDienThoai2))
                                    {
                                        <span class="fw-medium text-dark">@Model.SoDienThoai2</span>
                                    }
                                    else
                                    {
                                        <span class="text-muted fst-italic">Không có</span>
                                    }
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="d-flex align-items-start gap-3">
                                <div class="bg-light rounded-circle d-flex align-items-center justify-content-center flex-shrink-0" style="width: 44px; height: 44px;">
                                    <i class="fas fa-envelope text-warning"></i>
                                </div>
                                <div>
                                    <small class="text-secondary d-block mb-1">Email</small>
                                    @if (!string.IsNullOrEmpty(Model.Email))
                                    {
                                        <span class="fw-medium text-dark">@Model.Email</span>
                                    }
                                    else
                                    {
                                        <span class="text-muted fst-italic">Chưa cung cấp</span>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr class="text-muted opacity-25 mb-4">

                    @* Address Section *@
                    <h6 class="fw-bold text-dark mb-4 text-uppercase small" style="letter-spacing: 0.5px;">Thông tin nhân thân</h6>
                    <div class="row g-4">
                        <div class="col-12">
                            <div class="d-flex align-items-start gap-3">
                                <div class="bg-light rounded-circle d-flex align-items-center justify-content-center flex-shrink-0" style="width: 44px; height: 44px;">
                                    <i class="fas fa-home text-info"></i>
                                </div>
                                <div>
                                    <small class="text-secondary d-block mb-1">Địa chỉ thường trú</small>
                                    <span class="fw-medium text-dark" style="line-height: 1.5;">@Model.DiaChiThuongTru</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="d-flex align-items-start gap-3">
                                <div class="bg-light rounded-circle d-flex align-items-center justify-content-center flex-shrink-0" style="width: 44px; height: 44px;">
                                    <i class="fas fa-map-marker-alt text-danger"></i>
                                </div>
                                <div>
                                    <small class="text-secondary d-block mb-1">Nơi sinh</small>
                                    @if (!string.IsNullOrEmpty(Model.NoiSinh))
                                    {
                                        <span class="fw-medium text-dark">@Model.NoiSinh</span>
                                    }
                                    else
                                    {
                                        <span class="text-muted fst-italic">Chưa cập nhật</span>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <style>
        .border-bottom-dashed {
            border-bottom: 1px dashed #dee2e6 !important;
        }
    </style>
}